{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Marketplace</title>
    <link rel="stylesheet" href="{% static 'css/facebookhome.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root{--bg:#f3f6f8; --card:#fff; --muted:#6b7280; --accent:#0b84ff}
        body{background:var(--bg); font-family:Inter, Arial, sans-serif; margin:0}
        .header{display:flex;align-items:center;justify-content:space-between;padding:10px 18px;background:#fff;border-bottom:1px solid #eef2f6}
        .header-left{display:flex;align-items:center;gap:10px}
        .logo{font-size:20px;color:#1877f2}
        .main{display:flex;gap:18px;max-width:1280px;margin:18px auto;padding:0 12px;box-sizing:border-box}
        .sidebar{width:260px;background:var(--card);border-radius:8px;padding:12px;box-shadow:0 6px 18px rgba(2,6,23,0.04)}
        .sidebar h4{margin:6px 0 12px;font-size:14px}
        .sidebar .cat{display:flex;align-items:center;gap:10px;padding:8px;border-radius:8px;color:#111;margin-bottom:6px}
        .center{flex:1}
        .market-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
        .market-title{font-size:22px;font-weight:700}
        .market-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
        .card{background:var(--card);border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(2,6,23,0.03);display:flex;flex-direction:column}
        .card a{color:inherit;text-decoration:none}
        .thumb{width:100%;aspect-ratio:4/3;object-fit:cover;background:#f6f8fa}
        .card-body{padding:10px 12px;display:flex;flex-direction:column;gap:6px}
        .price{font-weight:700}
        .meta{color:var(--muted);font-size:12px}
        @media(max-width:1200px){.market-grid{grid-template-columns:repeat(3,1fr)}}
        @media(max-width:900px){.market-grid{grid-template-columns:repeat(2,1fr)}.sidebar{display:none}}
        @media(max-width:600px){.market-grid{grid-template-columns:1fr}}
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <!-- Left section -->
        <div class="header-left">
            <div class="logo">
                <i class="fab fa-facebook"></i>
            </div>
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search Facebook">
            </div>
        </div>

        <!-- Center navigation -->
        <div class="header-center">
            <a href="{% url 'Homepage' %}" class="nav-icon ">
                <i class="fas fa-home"></i>
            </a>
            <a href="video_page" class="nav-icon">
                <i class="fas fa-play"></i>
            </a>
            <a href="market_page" class="nav-icon active">
                <i class="fas fa-store"></i>
            </a>
            <a href="friends_page" class="nav-icon">
                <i class="fas fa-users"></i>
            </a>
            <a href="#" class="nav-icon">
                <i class="fas fa-gamepad"></i>
            </a>
        </div>

        <!-- Right section -->
        <div class="header-right">
            <div class="action-button">
                <i class="fas fa-plus"></i>
            </div>
            <div class="action-button">
                <a href="message_page"><i class="fab fa-facebook-messenger"></i></a>
            </div>
            <div class="action-button">
                <a href="requests_page"><i class="fas fa-bell"></i></a>
            </div>
            <div class="user-profile">
                <a href="{% url 'User_Profile' %}"><img src="{% static "image/contact1.jpeg" %}" alt="Profile"></a>
            </div>
        </div>
    </header>
    <br><br><br><br>

    <main class="main">
        <aside class="sidebar">
            <h4>Categories</h4>
            <div class="cat"><i class="fas fa-car"></i><span>Vehicles</span></div>
            <div class="cat"><i class="fas fa-home"></i><span>Property Rentals</span></div>
            <div class="cat"><i class="fas fa-tshirt"></i><span>Apparel</span></div>
            <div class="cat"><i class="fas fa-laptop"></i><span>Electronics</span></div>
            <div class="cat"><i class="fas fa-briefcase"></i><span>Office Supplies</span></div>
            <div class="cat"><i class="fas fa-gift"></i><span>Free Stuff</span></div>
        </aside>

        <section class="center">
            <div class="market-header">
                <div>
                    <div class="market-title">Office Supplies</div>
                    <div class="meta">Commerce, CA</div>
                </div>
                <div style="color:var(--muted);font-size:13px">Showing results</div>
            </div>

            <div class="market-grid">
                {# If you pass `market_items` into the template (list of dicts with keys: image, title, price, link, location) it will render. #}
                {% if market_items %}
                    {% for item in market_items %}
                        <div class="card">
                            <a href="{{ item.link|default:'#' }}">
                                <img class="thumb" src="{% static item.image %}" alt="{{ item.title }}">
                                <div class="card-body">
                                    <div class="price">{{ item.price|default:'$10' }}</div>
                                    <div class="meta">{{ item.title|default:'Item' }}</div>
                                    <div class="meta">{{ item.location|default:'Los Angeles, CA' }}</div>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                {% else %}
                    {# fallback sample cards using images from static/image/ - these can repeat #}
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/post-1.jpeg' %}" alt="item"><div class="card-body"><div class="price">$10</div><div class="meta">Hanging File Rack - new in box</div><div class="meta">Pasadena, CA</div></div></a></div>
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/contact1.jpeg' %}" alt="item"><div class="card-body"><div class="price">$15</div><div class="meta">File Organizer</div><div class="meta">San Gabriel, CA</div></div></a></div>
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/contact2.jpeg' %}" alt="item"><div class="card-body"><div class="price">$19</div><div class="meta">Label Maker (refurb)</div><div class="meta">Commerce, CA</div></div></a></div>
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/contact3.jpeg' %}" alt="item"><div class="card-body"><div class="price">$20</div><div class="meta">Office Supplies Set</div><div class="meta">Los Angeles, CA</div></div></a></div>
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/contact4.jpeg' %}" alt="item"><div class="card-body"><div class="price">$30</div><div class="meta">School Supplies Pack</div><div class="meta">Norwalk, CA</div></div></a></div>
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/sponsored1.jpeg' %}" alt="item"><div class="card-body"><div class="price">$20</div><div class="meta">Wood Desk Organizer</div><div class="meta">Whittier, CA</div></div></a></div>
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/profile.jpg' %}" alt="item"><div class="card-body"><div class="price">$10</div><div class="meta">Label Paper (roll)</div><div class="meta">Arcadia, CA</div></div></a></div>
                    <div class="card"><a href="#"><img class="thumb" src="{% static 'image/post-1.jpeg' %}" alt="item"><div class="card-body"><div class="price">$12</div><div class="meta">2-pocket folders (pack)</div><div class="meta">Whittier, CA</div></div></a></div>
                {% endif %}
            </div>
        </section>

        <aside style="width:260px">
            <!-- right column kept minimal to preserve header like original design -->
            <div style="background:var(--card);border-radius:8px;padding:12px;box-shadow:0 6px 18px rgba(2,6,23,0.04)">
                <h4>Filters</h4>
                <div style="color:var(--muted);font-size:13px">Condition: New</div>
            </div>
        </aside>
    </main>

</body>
</html>
